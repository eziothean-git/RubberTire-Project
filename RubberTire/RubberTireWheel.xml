<Block>
	<Debug>True</Debug>
	
	<ID>1</ID>
	
	<!-- Name of the block, shown in the user interface. -->
	<Name>RubberTireWheel</Name>
	
	<!-- TODO: Change the mass to something appropriate -->
	<Mass>0.5</Mass>

	<Mesh name="WheelMesh"> <!-- Must be defined as a resource in the manifest. -->
		<Position x="0.0" y="0.0" z="0.5" />
		<Rotation x="0.0" y="180" z="0" />
		<Scale x="1.0" y="1.0" z="1.5" />
	</Mesh>
	
	<Texture name="WheelTex" /> <!-- Must be defined as a resource in the manifest. -->
	
	<Icon>
		<Position x="0.0" y="0.0" z="0.0" />
		<Rotation x="0.0" y="0.0" z="0.0" />
		<Scale x="1.0" y="1.0" z="1.0" />
	</Icon>
	
	<!-- Including this causes a direction arrow, like the one on wheels and other turnable blocks,
		 to be displayed. The child elements define how and where it is displayed. -->
	<Arrow>
		<Position x="0" y="0" z="1" />
		<Rotation x="0" y="0" z="0" />
		<Scale x="2.5" y="2.5" z="2.5" />
	</Arrow>
	
	<Colliders>
		<!-- TODO: Insert Collider definitions here.
			 Examples: -->
		<!-- 用于碰撞兜底-->
		<CapsuleCollider>
			<Position x="0.0" y="0.0" z="0.5" />
			<Rotation x="0.0" y="90.0" z="0.0" />
			<Capsule direction="X" radius="0.5" height="1.0" />
		</CapsuleCollider>
		<!-- 此为用于轮胎踏面注入力物理计算的collider-->
		<CapsuleCollider trigger="true">
			<Position x="0.0" y="0.0" z="0.5" />
			<Rotation x="0.0" y="90.0" z="0.0" />
			<Capsule direction="X" radius="1.0" height="2.0" />
		</CapsuleCollider>
	</Colliders>
	
	<BasePoint hasAddingPoint="false">
		<Stickiness enabled="true" radius="1" />
		<!-- Can only have motion if sticky -->
		<Motion x="false" y="false" z="false" /> <!-- Optional -->
	</BasePoint>
	
	<AddingPoints>
		<!-- TODO: Insert AddingPoint definitions here. Example:-->
		<AddingPoint>
			<Position x="0.0" y="0.0" z="1.5" />
			<Rotation x="0.0" y="0.0" z="0.0" />
			<Stickiness enabled="True" radius="0.5"/>
		</AddingPoint>
	</AddingPoints>

	<ModuleMapperTypes>
		<Key displayName="Forward"  key="forward"  default="T" />
		<Key displayName="Backward" key="backward" default="G" />

		<Slider displayName="Speed"        key="speed"        min="0" max="10" default="1" />
		<Slider displayName="Acceleration" key="acceleration" min="0" max="100" default="50" unclamped="true" />

		<Toggle displayName="Automatic"   key="automatic"   default="false" />
		<Toggle displayName="Toggle Mode" key="toggle-mode" default="false" />

		<Toggle displayName="Auto-Brake" key="auto-brake" default="true" />

		<Slider displayName="K (Spring)" key="k" min="0" max="20000" default="3000" unclamped="true" />
		<Slider displayName="C (Damper)" key="c" min="0" max="200" default="25" unclamped="true" />

		<Slider displayName="Mu" key="mu" min="0" max="3" default="1.1" unclamped="true" />
		<Slider displayName="Cx" key="cx" min="0" max="80000" default="20000" unclamped="true" />
		<Slider displayName="Cy" key="cy" min="0" max="80000" default="25000" unclamped="true" />

		<Toggle displayName="Debug Draw" key="dbg" default="true" />
		<Slider displayName="Line Width" key="lw" min="0.01" max="0.3" default="0.08" unclamped="true" />
		<Slider displayName="Force Scale" key="fs" min="0.00001" max="0.01" default="0.0008" unclamped="true" />

		<!-- Tread width clipping: cut the spherical contact volume into a finite-width "disc" -->
		<Toggle displayName="Tread Width Clip" key="tw-clip" default="true" />
		<Slider displayName="Tread Width" key="tw" min="0.05" max="5" default="1.0" unclamped="true" />

	</ModuleMapperTypes>


	<Modules>
		<Spinning>
			<Forward key="forward" />
			<Backward key="backward" />

			<SpeedSlider key="speed" />
			<AccelerationSlider key="acceleration" />

			<AutomaticToggle key="automatic" />
			<ToggleModeToggle key="toggle-mode" />

			<AutoBrakeToggle key="auto-brake" />

			<Axis>Z</Axis>
			<MaxAngularSpeed>1000</MaxAngularSpeed>
		</Spinning>
	</Modules>

	<Script>RubberTireWheelScript</Script>
</Block>