
<Block>
	<Debug>True</Debug>
	
	<ID>1</ID>
	
	<!-- Name of the block, shown in the user interface. -->
	<Name>橡胶轮胎</Name>
	
	<!-- TODO: Change the mass to something appropriate -->
	<Mass>0.5</Mass>

	<Mesh name="WheelMesh"> <!-- Must be defined as a resource in the manifest. -->
		<Position x="0.0" y="0.0" z="0.5" />
		<Rotation x="0.0" y="180" z="0" />
		<Scale x="1.0" y="1.0" z="1.5" />
	</Mesh>
	
	<Texture name="WheelTex" /> <!-- Must be defined as a resource in the manifest. -->
	
	<Icon>
		<Position x="0.0" y="0.0" z="0.0" />
		<Rotation x="0.0" y="0.0" z="0.0" />
		<Scale x="1.0" y="1.0" z="1.0" />
	</Icon>
	
	<CanFlip>True</CanFlip>

	<!-- Including this causes a direction arrow, like the one on wheels and other turnable blocks,
		 to be displayed. The child elements define how and where it is displayed. -->
	<Arrow>
		<Position x="0" y="0" z="1" />
		<Rotation x="0" y="0" z="0" />
		<Scale x="2.5" y="2.5" z="2.5" />
	</Arrow>
	
	<Colliders>
		<!-- TODO: Insert Collider definitions here.
			 Examples: -->
		<!-- 用于碰撞兜底-->
		<CapsuleCollider>
			<Position x="0.0" y="0.0" z="0.5" />
			<Rotation x="0.0" y="90.0" z="0.0" />
			<Capsule direction="X" radius="0.5" height="1.0" />
		</CapsuleCollider>
		<!-- 此为用于轮胎踏面注入力物理计算的collider-->
		<CapsuleCollider trigger="true">
			<Position x="0.0" y="0.0" z="0.5" />
			<Rotation x="0.0" y="90.0" z="0.0" />
			<Capsule direction="X" radius="1.0" height="2.0" />
		</CapsuleCollider>
	</Colliders>
	
	<BasePoint hasAddingPoint="false">
		<Stickiness enabled="true" radius="1" />
		<!-- Can only have motion if sticky -->
		<Motion x="false" y="true" z="false" /> <!-- Optional -->
	</BasePoint>
	
	<AddingPoints>
		<!-- TODO: Insert AddingPoint definitions here. Example:-->
		<AddingPoint>
			<Position x="0.0" y="0.0" z="1.5" />
			<Rotation x="0.0" y="0.0" z="0.0" />
			<Stickiness enabled="false" radius="0.5"/>
		</AddingPoint>
	</AddingPoints>

	<MapperTypes>
                <!-- Normal contact -->
                <Slider displayName="K (Spring)" key="k"
                        min="0" max="20000" default="3000" unclamped="true" />
                <Slider displayName="C (Damper)" key="c"
                        min="0" max="200" default="25" unclamped="true" />

                <!-- Tire model master switch -->
                <Toggle displayName="Tire Model" key="tire" default="true" />

                <!-- Bristle + static/kinetic friction (Scheme 1) -->
                <Toggle displayName="Tire Relaxation" key="relax" default="true" />

                <Slider displayName="Mu Static" key="muS"
                        min="0" max="3" default="1.40" unclamped="true" />
                <Slider displayName="Mu Kinetic" key="muK"
                        min="0" max="3" default="1.20" unclamped="true" />

                <!-- Static lock threshold (bigger = more stable but stickier) -->
                <Slider displayName="vStatic (m/s)" key="vStatic"
                        min="0.01" max="2.0" default="0.25" unclamped="true" />

                <!-- Output force low-pass -->
                <Slider displayName="Force Filter Tau (s)" key="fTau"
                        min="0" max="0.20" default="0.03" unclamped="true" />

                <!-- Relaxation length + bristle stiffness/damping -->
                <Slider displayName="Relax Length" key="relaxL"
                        min="0.05" max="5.0" default="0.8" unclamped="true" />
                <Slider displayName="Shear K (N/m)" key="shK"
                        min="1000" max="200000" default="50000" unclamped="true" />
                <Slider displayName="Shear C (N*s/m)" key="shC"
                        min="0" max="5000" default="0" unclamped="true" />
                <Slider displayName="Max Shear Disp" key="shMax"
                        min="0.01" max="0.50" default="0.15" unclamped="true" />

                <!-- Force/Torque handling -->
                <Toggle displayName="Decouple F/T" key="decouple" default="true" />
                <Toggle displayName="Use Trigger Axis" key="trigAxis" default="false" />

                <!-- Tread width clip -->
                <Toggle displayName="Tread Width Clip" key="tw-clip" default="true" />
                <Slider displayName="Tread Width" key="tw"
                        min="0.05" max="5.0" default="1.0" unclamped="true" />

                <!-- Debug -->
                <Toggle displayName="Debug Draw" key="dbg" default="true" />
                <Toggle displayName="Tread Viz Only" key="treadVizOnly" default="false" />
                <Slider displayName="Line Width" key="lw"
                        min="0.01" max="0.30" default="0.10" unclamped="true" />
                <Slider displayName="Force Scale" key="fs"
                        min="0.00001" max="0.01" default="0.0015" unclamped="true" />
        </MapperTypes>
        
	<Script>RubberTireWheelScript</Script>
</Block>
